README

Flippy the Train is a train simulation that can be used to model logic
circuits.



Current

  . Challenge Mode specials

    - Display level goal somewhere, clearly.  Maybe an overlay with
      mode button?  Might need readout labels (mentioned below) to
      make this clear, e.g. goal is "B is 'not' (the opposite of) A".

  . Special input and output segments which have switches but no track
    (and perhaps have a readout of binary value).

    - In challenge mode, you can't add inputs and outputs.

    - In challenge mode, you can only flip inputs.

    - In challenge mode, outputs and inputs are visually
      differentiated.  (In sandbox mode, you can toggle their
      appearance in the track edit menu?)  It would be nice to label
      them, perhaps with letters.

    - In challenge mode, you can't link to or from anything that is
      linked to an input -- the train makes the connection.

  . Prettier highlight of join segment when linking.

  . Tutorial mechanism for first challenge levels.

    - Show non-modal box highlighting an element.  Pan to element when
      tutorial message appears.  Tap message box for hints?

  . Challenge levels: not, or, and, xor (no cross), xor (with cross).
    Each one can be skipped?  Each one has hints?  If you can do it
    under the piece count, then you unlock the corresponding gate in
    sandbox mode.

  . Challenge mode levels unlock gates and circuits in sandbox mode.
    Completion of levels unlocks ability to start new challenge game
    at (solved) levels.

  . Pan world when track move (or multi-selection, or any pan gesture)
    goes to edge of scene.

  . Consider recentering world as needed when construction tool is
    released, so that track edit popup menu can fit fully onscreen.
    (Get the track edit menu to report its width, I guess, and then
    do the centering in the handleGesture method.)

  . Make a copy/duplicate of current selection.  Insert the same way
    as an import, so factor out that code.

If It Ships

  . Low memory warning.  (Test in debugger.)

  . Infinite grid, and/or real quadtree.

Lower Priority

  . For challenge games, show the level title in the save game slots
    when loading and saving.  (Need to encode the level number
    separately from the track scene, I think, so that the track scene
    doesn't have to be unencoded just to get some meta information.  I
    think it is possible to encode it at the top level of the archive,
    and then open the archive and only decode the meta-information
    keys, without decoding the track scene.  Although: Does prepping
    an NSKeyedUnarchiver with binary XML data, and then scanning
    through it, require too much time even without encoding the track
    scene within?)

  . Track destruction of readout and platform should not show the
    same particle emitters as normal segments.

  . Prettier links.  Maybe quadratic Bezier curves for link nodes.
    Maybe different coloring.

  . Long press on saved games deletes them.

  . For import thumbnails: Trace out CG lines for track segment paths
    rather than shrinking down images.  The result might be better.
    (And wouldn't need UIImages anymore in HLTextureStore.)

  . Sound effects for train start, train stop, switch switching,
    message appear, toolbar navigation, ...

  . For multisegment rotation: In case of conflict, search for nearby
    pivot that would work without conflicts.  Shouldn't be hard to
    check a few anyway.

  . Prettier Bezier curves for links . . . well, if it does indeed
    look better.  Control points chosen so that the links always curve
    a bit: Perhaps usually normal to the switch dirction, in the
    direction of the other endpoint, but then if the other endpoint
    has the same X or Y coordinate, then bend it 45 degrees or
    something.

  . Mirror tool especially for mirroring a large selection.  (And
    maybe then remove mirror images from segment construction
    toolbar, since it would work for single segments, too.)

  . A tool/gesture for selecting everything connected to the current
    segment.

  . Intertia for scrolling pan motion.

  . Better interface fitting on iPhone, especially portrait: Expanding
    toolbars?

  . Rotation gesture recognizer for rotation; flick for deletion;
    pinch or something for mirror.

  . If multiple trains, then train edit menu for play/pause controls
    (and an explicit way to turn train around, perhaps).

  . Draw a line with your finger, segments created automatically.
    Better: A special "auto connect" path subtrack which
    calculates a path between two specified segments and maintains
    the connection following moves and rotations of those
    segments.

  . Undo stack.

  . Train acceleration.
